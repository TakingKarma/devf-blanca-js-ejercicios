if (self.CavalryLogger) { CavalryLogger.start_js(["+Z1qy"]); }

__d("XPrivacyCheckupSpawnDialogController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/checkup\/dialog\/show\/",{source:{type:"Enum",enumType:1}});}),null);
__d("XPrivacyRemindersDismissController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/reminders\/dismiss\/",{type:{type:"String",required:true},log_plite:{type:"Bool",defaultValue:false}});}),null);
__d('PrivacyLiteFlyout',['csx','cx','Animation','Arbiter','ArbiterMixin','AsyncDialog','AsyncRequest','Banzai','CSS','DOM','Ease','Event','PrivacyConst','Style','SubscriptionsHandler','Toggler','XPrivacyCheckupSpawnDialogController','XPrivacyRemindersDismissController','ge','getOrCreateDOMID','ifRequired'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j='PrivacyLiteFlyout/expandingSection',k={},l={};function m(r,s,t){var u=s?0:r.offsetHeight;c('Style').set(r,'height',u+'px');c('Style').set(r,'overflow','hidden');c('CSS').show(r);var v=s?r.scrollHeight:0,w=c('getOrCreateDOMID')(r);k[w]&&k[w].stop();k[w]=new (c('Animation'))(r).to('height',v).ondone(function(){k[w]=null;c('Style').set(r,'height','');c('Style').set(r,'overflow','');v||c('CSS').hide(r);t();}).duration(Math.abs(v-u)*1.5).ease(c('Ease').sineOut).go();}function n(r){var event='other_section';switch(r){case 'who_can_see':case 'who_can_contact':case 'how_to_stop':event=r;break;}return event;}var o=null,p=false,q=babelHelpers['extends']({loadBody:function r(){this._loadBody(false);},loadBodyFromMegaphone:function r(){this._loadBody(true);},_loadBody:function r(s){if(!p&&c('ge')('fbPrivacyLiteFlyoutLoading')){p=true;new (c('AsyncRequest'))('/ajax/privacy/privacy_lite/loader').setData({from_megaphone:s}).send();}},_addListener:function r(s,event,t){return c('Event').listen(s,'click',function(){c('Banzai').post('privacy_lite',{event:event,exit_point:t});});},addLoggingElem:function r(s,event,t){this._loggingElements=this._loggingElements||[];var u=this._loggingElements.length,v={elem:s,event:event,exit:t};this._loggingElements[u]=v;},registerSettingsAndBasicsLinkLogging:function r(s,event,t,u){var v=c('DOM').scry(s,"._5cw0")[0],w=c('DOM').scry(s,"._3djx")[0];if(v){this._settingsLinkListener&&this._settingsLinkListener.release();this._settingsLinkListener=this._addListener(v,event,t);}if(w){this._privacyBasicsLinkListener&&this._privacyBasicsLinkListener.release();this._privacyBasicsLinkListener=this._addListener(w,event,u);}},_subscribeListeners:function r(){this._loggingElements&&this._loggingElements.forEach(function(s){this._subscriptions&&this._subscriptions.addSubscriptions(this._addListener(s.elem,s.event,s.exit));},this);},renderBody:function r(s,t){var u=c('ge')('fbPrivacyLiteFlyoutLoading');if(u){c('DOM').replace(u,s);q.registerCallback(function(){q.inform('load',null,c('Arbiter').BEHAVIOR_STATE);},t);}},hideCleanup:function r(s){c('Arbiter').inform(j);c('DOM').scry(s,"._2va0").forEach(function(t){c('CSS').removeClass(t,"_2va0");});},registerFlyoutToggler:function r(s,t){o=t;var u=c('Toggler').createInstance(s);u.setSticky(false);c('Toggler').listen(['show','hide'],t,function(v){q.inform(v);var w=v==='show';if(!w){q.hideCleanup(s);u.hide();this._subscriptions&&this._subscriptions.release();this._subscriptions=null;c('Arbiter').inform('layer_hidden',{type:'PrivacyShortcutsFlyout'});}else{c('Arbiter').inform('layer_shown',{type:'PrivacyShortcutsFlyout'});c('Arbiter').subscribeOnce(j,function(){this._subscriptions&&this._subscriptions.release();this._subscriptions=new (c('SubscriptionsHandler'))();this._subscribeListeners();}.bind(this));c('Banzai').post('privacy_lite',{event:'show_flyout',exit_point:null});}}.bind(this));},isFlyoutVisible:function r(){return o&&c('Toggler').getActive()===o;},exists:function r(){return !!c('DOM').scry(document.body,"._59fc")[0];},setFlyoutVisible:function r(s){c('ifRequired')('ClientChromeStore',function(t){t.dispatch({type:'UPDATE_ACTIVE_FLYOUT',data:s?'privacy':null});});s?c('Toggler').show(o):c('Toggler').hide(o);},showSection:function r(s){var t=l[s];if(!t)return;if(!t.sublist_container){q.inform('expanded',s,c('Arbiter').BEHAVIOR_STATE);return;}var u=t.chevron,v=t.sublist_container;c('Arbiter').inform(j,u);if(q.inform('expand',s)!==false){c('CSS').removeClass(u,"_9or");c('CSS').addClass(u,"_9os");m(v,true,function(){q.inform('expanded',s);});}},hideSection:function r(s,t,u){var v=l[s],w=v.chevron,x=v.sublist_container;if(u===w)return;if(q.inform('collapse',s)!==false){c('CSS').addClass(w,"_9or");c('CSS').removeClass(w,"_9os");m(x,false,function(){q.inform('collapsed',s);});}},toggleSection:function r(s){var t=l[s].chevron;c('Toggler').getInstance(t).hide();if(c('CSS').matchesSelector(t,"._9or")){q.showSection(s);c('Banzai').post('privacy_lite',{event:n(s)+'_expand',exit_point:null});new (c('AsyncRequest'))('/ajax/privacy/privacy_lite/log_section_expand').setData({section:s}).send();}else{q.hideSection(s);c('Banzai').post('privacy_lite',{event:n(s)+'_collapse',exit_point:null});}},registerSection:function r(s,t){l[s]=t;if(t.sublist_container){c('Arbiter').subscribe(j,q.hideSection.bind(null,s));c('Event').listen(t.section_block,'click',q.toggleSection.bind(null,s));}q.inform(s);},registerInlineHelpOnAudienceChangeNewSelector:function r(s,t,u,v){s=s.getInstance();s.subscribe('changed',function(w){this._registerInlineHelpOnAudienceChange(t,u,v,s.getSelectedBaseValue());}.bind(this));},registerSelectorLogging:function r(s,t,u,v){s=s.getInstance();s.subscribe('open',function(){c('Banzai').post('privacy_lite',{event:t,exit_point:null});});s.subscribe('close',function(){c('Banzai').post('privacy_lite',{event:u,exit_point:null});});s.subscribe('changed',function(){c('Banzai').post('privacy_lite',{event:v,exit_point:null});});},_registerInlineHelpOnAudienceChange:function r(s,t,u,v){var w=c('DOM').find(s,"._9o_"),x=c('DOM').find(s,"._2v9_");if(u){var y=c('DOM').find(s,"._5n9w"),z=v==c('PrivacyConst').BaseValue.EVERYONE;c('CSS').conditionShow(y,z);c('CSS').conditionShow(w,!z);if(y&&z){var aa=c('XPrivacyRemindersDismissController').getURIBuilder().setString('type','delta_everyone').setBool('log_plite',true).getURI();new (c('AsyncRequest'))(aa).send();}}else c('CSS').show(w);c('CSS').hide(x);if(t)new (c('AsyncRequest'))('/ajax/privacy/privacy_lite/kill_intro').send();},registerInlineHelpXOutOnClick:function r(s,t,u){c('Event').listen(s,'click',function(){c('CSS').addClass(t,"_9p0");});},registerBlockUnhideOnFocus:function r(s,t){c('Event').listen(s,'focus',function(u){c('CSS').show(u);c('Banzai').post('privacy_lite',{event:'block_user_input_click',exit_point:null});}.bind(this,t));},registerPrivacyCheckupListener:function r(s){c('Event').listen(s,'click',function(){this.setFlyoutVisible(false);c('AsyncDialog').send(new (c('AsyncRequest'))(c('XPrivacyCheckupSpawnDialogController').getURIBuilder().setEnum('source','plite').getURI()));c('Banzai').post('privacy_lite',{event:'exit_flyout',exit_point:'privacy_checkup'});}.bind(this));},displayPrivacyCheckup:function r(s){s.show();}},c('ArbiterMixin'));f.exports=q;}),null);
__d('LayerSlowlyFadeOnShow',['LayerFadeOnShow'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=500,i=c('LayerFadeOnShow').forDuration(h);f.exports=i;}),null);
__d('PrivacyLiteNUXController',['cx','AsyncRequest','CSS','Event','LayerSlowlyFadeOnShow','Locale','ModalMask','PageTransitions','Parent','PrivacyLiteFlyout','Toggler','$','ge'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i="_3oye",j="_1luv",k=[],l={bootload:function n(){},init:function n(o){if(!l.initialized)Object.assign(this,{dialog:o.dialog,sectionID:o.sectionID,subsectionID:o.subsectionID,initialized:true,tourStarted:false});if(o.showOnExpand){l._attachFlyoutListener();}else l._detachFlyoutListener();},startTourFromAnywhere:function n(){l._startTour(false,true);},startTourFromMegaphone:function n(){l._startTour(true,true);},startTourWithoutMask:function n(){l._startTour(false,false);},_startTour:function n(o,p){if(l.tourStarted)return;l.tourStarted=true;l._detachFlyoutListener();new (c('AsyncRequest'))('/ajax/privacy/privacy_lite/log_nux_imp').setData({from_megaphone:o}).send();p&&c('ModalMask').show();c('CSS').conditionClass(l.dialog.getRoot(),i,o);if(!o&&p)l._maskListener=c('Event').listen(c('$')('modalMaskOverlay'),'click',l._cleanup);c('Toggler').setSticky(true);setTimeout(l._showFlyout);c('PageTransitions').registerHandler(function(){l._cleanup();c('PrivacyLiteFlyout').setFlyoutVisible(false);},10);},_showFlyout:function n(){c('PrivacyLiteFlyout').loadBodyFromMegaphone();c('PrivacyLiteFlyout').setFlyoutVisible(true);l._initDialog();m('load',l._showTour);},_showTour:function n(){c('PrivacyLiteFlyout').showSection(l.sectionID);m('expanded',function(o,p){if(p===l.sectionID){var q=l.subsectionID?l.subsectionID:p,r=c('ge')(q);if(r)l.dialog.setContext(r).show();}});m(['collapse','hide'],l._cleanup);},_initDialog:function n(){var o=l.dialog.getRoot(),p=l.dialog.getContent();c('CSS').addClass(o,"_1luy");c('CSS').conditionClass(o,"_3qz8",c('Locale').isRTL());c('CSS').addClass(p,"_1luz");l.dialog.enableBehavior(c('LayerSlowlyFadeOnShow'));c('Event').listen(o,'click',function(event){if(c('Parent').byClass(event.getTarget(),j))l._cleanup();});},_attachFlyoutListener:function n(){if(!l.flyoutSubscription)if(c('PrivacyLiteFlyout').isFlyoutVisible()){l.startTourFromAnywhere();}else l.flyoutSubscription=c('PrivacyLiteFlyout').subscribe('show',l.startTourFromAnywhere);},_detachFlyoutListener:function n(){if(l.flyoutSubscription){l.flyoutSubscription.unsubscribe();l.flyoutSubscription=null;}},_cleanup:function n(){if(!l.tourStarted)return;l.tourStarted=false;c('Toggler').setSticky(false);c('ModalMask').hide();l.dialog.hide();while(k.length)k.pop().unsubscribe();if(l._maskListener){l._maskListener.remove();l._maskListener=null;}}};function m(n,o){k.push(c('PrivacyLiteFlyout').subscribe(n,o));}f.exports=l;}),null);